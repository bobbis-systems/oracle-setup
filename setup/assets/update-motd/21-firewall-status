#!/bin/sh
# MOTD Segment: 21-firewall-status
# Purpose: Display UFW firewall status

printf "\nüõ°Ô∏è Firewall Status (UFW)\n"
printf "‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ\n"

if command -v ufw >/dev/null 2>&1; then
  STATUS=$(ufw status | head -n 1)
  echo "$STATUS"

  RULES=$(ufw status | tail -n +2)
  if [ -n "$RULES" ]; then
    echo "$RULES" | head -n 5
    [ "$(echo "$RULES" | wc -l)" -gt 5 ] && echo "‚Ä¶ (more rules hidden)"
  else
    echo "No active rules."
  fi
else
  echo "‚ùå UFW not installed or not found."
fi
